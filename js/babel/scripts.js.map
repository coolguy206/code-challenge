{"version":3,"sources":["../scripts.js"],"names":["lightbox","require","$","document","ready","close","decimal","elem","x","toFixed","getJSON","json","console","log","each","groups","i","val","sellPriceH","priceRange","selling","high","sellPriceL","low","flags","j","arr","div","id","images","hero","href","name","l","img","messages","messagesLength","k","str","h3","reviews","averageRating","reviewCount","li","links","www","append","click","e","preventDefault","url","attr","find","outerHTML","siblings","salePrice","thumbs","overlay","prepend","bxSlider","window","width","y","pageYOffset","css"],"mappings":"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","sourcesContent":["var lightbox = require('./lightbox-obj.js');\n\n$(document).ready(function() {\n\n    lightbox.close();\n\n    // lightbox.hover();\n\n    // lightbox.click();\n\n\n    var decimal = function(elem) {\n        var x = elem;\n        x = x.toFixed(2);\n        return x;\n    };\n\n    $.getJSON(\"js/json.json\", function(json) {\n        console.log(json);\n\n        var elem = '';\n        $.each(json.groups, function(i, val) {\n\n            // console.log(val.reviews);\n\n            var sellPriceH = decimal(val.priceRange.selling.high);\n            var sellPriceL = decimal(val.priceRange.selling.low);\n\n\n            var flags = '';\n            $.each(val.flags, function(j, arr) {\n                var div = `<div>${arr.id}</div>`;\n                flags = flags + div;\n            });\n\n\n            var images = `<li><img src=\"${val.hero.href}\" alt=\"${val.name}\"></li>`;\n            $.each(val.images, function(l, img) {\n                var img = `<li><img src=\"${img.href}\" alt=\"${val.name}\"></li>`;\n                images = images + img;\n            });\n\n            var messages = '';\n            let messagesLength = val.messages;\n            // console.log(messagesLength.length);\n            if (messagesLength >= 1) {\n                $.each(val.messages, function(k, str) {\n                    var h3 = `<h3>${str}</h3>`;\n                    messages = messages + h3;\n                });\n            }\n\n            let reviews = `\n                <div class=\"reviews\">\n                  <h2>Reviews</h2>\n                  <p>\n                    Average Rating: ${val.reviews.averageRating}<br>\n                    Review Count: ${val.reviews.reviewCount}\n                  </p>\n                </div>\n                `;\n\n\n\n\n            let li = `\n        <li>\n          <a href=\"#\" data-url=\"${val.links.www}\">\n            <img class=\"hero\" src=\"${val.hero.href}\" alt=\"${val.name}\">\n            <h2>${val.name}</h2>\n          </a>\n          <div class=\"flags\">${flags}</div>\n          <h3 class=\"sale\">$${sellPriceL} - $${sellPriceH}</h3>\n          <div class=\"messages\">${messages}</div> \n          ${reviews}\n          <ul>${images}</ul>\n        </li>`;\n\n            elem = elem + li;\n\n        });\n\n        $('.container ul').append(elem);\n\n        //click\n        $('.container a').click(function(e) {\n            e.preventDefault();\n            const url = $(this).attr('data-url');\n            const hero = $(this).find('.hero')[0].outerHTML;\n            const name = $(this).find('h2')[0].outerHTML;\n            const flags = $(this).siblings('.flags')[0].outerHTML;\n            const salePrice = $(this).siblings('.sale')[0].outerHTML;\n            const messages = $(this).siblings('.messages')[0].outerHTML;\n            const reviews = $(this).siblings('.reviews')[0].outerHTML;\n            const thumbs = $(this).siblings('ul')[0].outerHTML;\n            const overlay = '<div class=\"overlay\"></div>';\n\n            /*const lightbox = `\n                <div class=\"lightbox\">\n                  <div class=\"close\">X</div>\n                  <div class=\"thumbs\">${thumbs}</div>\n                  <div class=\"images\">${hero}</div>\n                  <div class=\"details\">\n                    <a href=\"${url}\" target=\"_blank\">${name}</a>\n                    ${flags}\n                    ${salePrice}\n                    ${messages}\n                    ${reviews}\n                  </div>\n                </div>`;*/\n\n            const lightbox = `\n                <div class=\"lightbox\">\n                  <div class=\"close\">X</div>\n                  <div class=\"images\">${thumbs}</div>\n                  <div class=\"details\">\n                    <a href=\"${url}\" target=\"_blank\">${name}</a>\n                    ${flags}\n                    ${salePrice}\n                    ${messages}\n                    ${reviews}\n                  </div>\n                </div>`;\n\n            $('body').prepend(overlay, lightbox);\n\n\n            $('.lightbox .images ul').bxSlider();\n\n            //move lightbox on mobile\n            if ($(window).width() <= 414) {\n                var y = window.pageYOffset;\n                $('.lightbox').css('top', y);\n            }\n\n        });\n    });\n\n});"],"file":"scripts.js"}